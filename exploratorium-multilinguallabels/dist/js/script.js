!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=92)}([function(t,e,n){"use strict";var r=n(36)("wks"),i=n(26),o=n(1).Symbol,s="function"==typeof o,a=t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))};a.store=r},function(t,e,n){"use strict";var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e,n){"use strict";var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(t,e,n){"use strict";var r=n(9);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";var r=n(15);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";var r=n(11),i=n(20);t.exports=n(7)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,n){"use strict";t.exports=!n(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===("undefined"==typeof t?"undefined":r(t))?null!==t:"function"==typeof t}},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";var r=n(3),i=n(58),o=n(75),s=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";var r=n(1),i=n(5),o=n(8),s=n(26)("src"),a="toString",u=Function[a],c=(""+u).split(a);n(2).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,a){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(o(n,s)||i(n,s,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,a,function(){return"function"==typeof this&&this[s]||u.call(this)})},function(t,e,n){"use strict";var r=n(1),i=n(2),o=n(5),s=n(12),a=n(4),u="prototype",c=function t(e,n,c){var f,l,h,d,v=e&t.F,p=e&t.G,y=e&t.S,m=e&t.P,g=e&t.B,b=p?r:y?r[n]||(r[n]={}):(r[n]||{})[u],w=p?i:i[n]||(i[n]={}),_=w[u]||(w[u]={});p&&(c=n);for(f in c)l=!v&&b&&void 0!==b[f],h=(l?b:c)[f],d=g&&l?a(h,r):m&&"function"==typeof h?a(Function.call,h):h,b&&s(b,f,h,e&t.U),w[f]!=h&&o(w,f,d),m&&_[f]!=h&&(_[f]=h)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){"use strict";var r=n(23),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var r=n(6),i=n(0)("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){"use strict";t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var r=n(9),i=n(1).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var r=n(11).f,i=n(8),o=n(0)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){"use strict";var r=n(36)("keys"),i=n(26);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){"use strict";var r=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:r)(t)}},function(t,e,n){"use strict";var r=n(30),i=n(17);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";var r=n(17);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+i).toString(36))}},function(t,e,n){"use strict";var r=n(73)(!0);n(33)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){"use strict";t.exports=n(1).document&&document.documentElement},function(t,e,n){"use strict";var r=n(6);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var r=n(10),i=n(0)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){"use strict";var r=n(35),i=n(13),o=n(12),s=n(5),a=n(8),u=n(10),c=n(61),f=n(21),l=n(66),h=n(0)("iterator"),d=!([].keys&&"next"in[].keys()),v="@@iterator",p="keys",y="values",m=function(){return this};t.exports=function(t,e,n,g,b,w,_){c(n,e,g);var x,E,S,M=function(t){if(!d&&t in R)return R[t];switch(t){case p:return function(){return new n(this,t)};case y:return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",T=b==y,k=!1,R=t.prototype,A=R[h]||R[v]||b&&R[b],O=A||M(b),L=b?T?M("entries"):O:void 0,P="Array"==e?R.entries||A:A;if(P&&(S=l(P.call(new t)),S!==Object.prototype&&(f(S,C,!0),r||a(S,h)||s(S,h,m))),T&&A&&A.name!==y&&(k=!0,O=function(){return A.call(this)}),r&&!_||!d&&!k&&R[h]||s(R,h,O),u[e]=O,u[C]=m,b)if(x={values:T?O:M(y),keys:w?O:M(p),entries:L},_)for(E in x)E in R||o(R,E,x[E]);else i(i.P+i.F*(d||k),e,x);return x}},function(t,e,n){"use strict";var r=n(0)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(t){}return n}},function(t,e,n){"use strict";t.exports=!1},function(t,e,n){"use strict";var r=n(1),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){"use strict";var r,i,o,s=n(4),a=n(59),u=n(29),c=n(18),f=n(1),l=f.process,h=f.setImmediate,d=f.clearImmediate,v=f.MessageChannel,p=0,y={},m="onreadystatechange",g=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},b=function(t){g.call(t.data)};h&&d||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++p]=function(){a("function"==typeof t?t:Function(t),e)},r(p),p},d=function(t){delete y[t]},"process"==n(6)(l)?r=function(t){l.nextTick(s(g,t,1))}:v?(i=new v,o=i.port2,i.port1.onmessage=b,r=s(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+"","*")},f.addEventListener("message",b,!1)):r=m in c("script")?function(t){u.appendChild(c("script"))[m]=function(){u.removeChild(this),g.call(t)}}:function(t){setTimeout(s(g,t,1),0)}),t.exports={set:h,clear:d}},function(t,e,n){"use strict";var r=n(16),i=n(0)("iterator"),o=n(10);t.exports=n(2).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var r=n(16),i={};i[n(0)("toStringTag")]="z",i+""!="[object z]"&&n(12)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){"use strict";var r,i,o,s=n(35),a=n(1),u=n(4),c=n(16),f=n(13),l=n(9),h=n(15),d=n(51),v=n(57),p=n(71),y=n(37).set,m=n(63)(),g="Promise",b=a.TypeError,w=a.process,_=a[g],w=a.process,x="process"==c(w),E=function(){},S=!!function(){try{var t=_.resolve(1),e=(t.constructor={})[n(0)("species")]=function(t){t(E,E)};return(x||"function"==typeof PromiseRejectionEvent)&&t.then(E)instanceof e}catch(t){}}(),M=function(t,e){return t===e||t===_&&e===o},C=function(t){var e;return!(!l(t)||"function"!=typeof(e=t.then))&&e},T=function(t){return M(_,t)?new k(t):new i(t)},k=i=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw b("Bad Promise constructor");e=t,n=r}),this.resolve=h(e),this.reject=h(n)},R=function(t){try{t()}catch(t){return{error:t}}},A=function(t,e){if(!t._n){t._n=!0;var n=t._c;m(function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s=i?e.ok:e.fail,a=e.resolve,u=e.reject,c=e.domain;try{s?(i||(2==t._h&&P(t),t._h=1),s===!0?n=r:(c&&c.enter(),n=s(r),c&&c.exit()),n===e.promise?u(b("Promise-chain cycle")):(o=C(n))?o.call(n,a,u):a(n)):u(r)}catch(t){u(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&O(t)})}},O=function(t){y.call(a,function(){var e,n,r,i=t._v;if(L(t)&&(e=R(function(){x?w.emit("unhandledRejection",i,t):(n=a.onunhandledrejection)?n({promise:t,reason:i}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=x||L(t)?2:1),t._a=void 0,e)throw e.error})},L=function t(e){if(1==e._h)return!1;for(var n,r=e._a||e._c,i=0;r.length>i;)if(n=r[i++],n.fail||!t(n.promise))return!1;return!0},P=function(t){y.call(a,function(){var e;x?w.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})})},j=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),A(e,!0))},I=function t(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw b("Promise can't be resolved itself");(n=C(e))?m(function(){var i={_w:r,_d:!1};try{n.call(e,u(t,i,1),u(j,i,1))}catch(t){j.call(i,t)}}):(r._v=e,r._s=1,A(r,!1))}catch(t){j.call({_w:r,_d:!1},t)}}};S||(_=function(t){d(this,_,g,"_h"),h(t),r.call(this);try{t(u(I,this,1),u(j,this,1))}catch(t){j.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(69)(_.prototype,{then:function(t,e){var n=T(p(this,_));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=x?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),k=function(){var t=new r;this.promise=t,this.resolve=u(I,t,1),this.reject=u(j,t,1)}),f(f.G+f.W+f.F*!S,{Promise:_}),n(21)(_,g),n(70)(g),o=n(2)[g],f(f.S+f.F*!S,g,{reject:function(t){var e=T(this),n=e.reject;return n(t),e.promise}}),f(f.S+f.F*(s||!S),g,{resolve:function(t){if(t instanceof _&&M(t.constructor,this))return t;var e=T(this),n=e.resolve;return n(t),e.promise}}),f(f.S+f.F*!(S&&n(34)(function(t){_.all(t).catch(E)})),g,{all:function(t){var e=this,n=T(e),r=n.resolve,i=n.reject,o=R(function(){var n=[],o=0,s=1;v(t,!1,function(t){var a=o++,u=!1;n.push(void 0),s++,e.resolve(t).then(function(t){u||(u=!0,n[a]=t,--s||r(n))},i)}),--s||r(n)});return o&&i(o.error),n.promise},race:function(t){var e=this,n=T(e),r=n.reject,i=R(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},function(t,e,n){"use strict";for(var r=n(78),i=n(12),o=n(1),s=n(5),a=n(10),u=n(0),c=u("iterator"),f=u("toStringTag"),l=a.Array,h=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],d=0;d<5;d++){var v,p=h[d],y=o[p],m=y&&y.prototype;if(m){m[c]||s(m,c,l),m[f]||s(m,f,p),a[p]=l;for(v in r)m[v]||i(m,v,r[v],!0)}}},function(t,e,n){"use strict";(function(r,i){var o,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.0.5
 */
!function(r,i){"object"===a(e)&&"undefined"!=typeof t?t.exports=i():(o=i,s="function"==typeof o?o.call(e,n,e,t):o,!(void 0!==s&&(t.exports=s)))}(void 0,function(){function t(t){return"function"==typeof t||"object"===("undefined"==typeof t?"undefined":a(t))&&null!==t}function e(t){return"function"==typeof t}function o(t){X=t}function s(t){J=t}function u(){return function(){return r.nextTick(d)}}function c(){return"undefined"!=typeof Y?function(){Y(d)}:h()}function f(){var t=0,e=new tt(d),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function l(){var t=new MessageChannel;return t.port1.onmessage=d,function(){return t.port2.postMessage(0)}}function h(){var t=setTimeout;return function(){return t(d,1)}}function d(){for(var t=0;t<K;t+=2){var e=rt[t],n=rt[t+1];e(n),rt[t]=void 0,rt[t+1]=void 0}K=0}function v(){try{var t=n(91);return Y=t.runOnLoop||t.runOnContext,c()}catch(t){return h()}}function p(t,e){var n=arguments,r=this,i=new this.constructor(m);void 0===i[ot]&&q(i);var o=r._state;return o?!function(){var t=n[o-1];J(function(){return P(o,i,t,r._result)})}():R(r,i,t,e),i}function y(t){var e=this;if(t&&"object"===("undefined"==typeof t?"undefined":a(t))&&t.constructor===e)return t;var n=new e(m);return M(n,t),n}function m(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function b(){return new TypeError("A promises callback cannot return that same promise.")}function w(t){try{return t.then}catch(t){return ct.error=t,ct}}function _(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function x(t,e,n){J(function(t){var r=!1,i=_(n,e,function(n){r||(r=!0,e!==n?M(t,n):T(t,n))},function(e){r||(r=!0,k(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,k(t,i))},t)}function E(t,e){e._state===at?T(t,e._result):e._state===ut?k(t,e._result):R(e,void 0,function(e){return M(t,e)},function(e){return k(t,e)})}function S(t,n,r){n.constructor===t.constructor&&r===p&&n.constructor.resolve===y?E(t,n):r===ct?k(t,ct.error):void 0===r?T(t,n):e(r)?x(t,n,r):T(t,n)}function M(e,n){e===n?k(e,g()):t(n)?S(e,n,w(n)):T(e,n)}function C(t){t._onerror&&t._onerror(t._result),A(t)}function T(t,e){t._state===st&&(t._result=e,t._state=at,0!==t._subscribers.length&&J(A,t))}function k(t,e){t._state===st&&(t._state=ut,t._result=e,J(C,t))}function R(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+at]=n,i[o+ut]=r,0===o&&t._state&&J(A,t)}function A(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,s=0;s<e.length;s+=3)r=e[s],i=e[s+n],r?P(n,r,i,o):i(o);t._subscribers.length=0}}function O(){this.error=null}function L(t,e){try{return t(e)}catch(t){return ft.error=t,ft}}function P(t,n,r,i){var o=e(r),s=void 0,a=void 0,u=void 0,c=void 0;if(o){if(s=L(r,i),s===ft?(c=!0,a=s.error,s=null):u=!0,n===s)return void k(n,b())}else s=i,u=!0;n._state!==st||(o&&u?M(n,s):c?k(n,a):t===at?T(n,s):t===ut&&k(n,s))}function j(t,e){try{e(function(e){M(t,e)},function(e){k(t,e)})}catch(e){k(t,e)}}function I(){return lt++}function q(t){t[ot]=lt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function B(t,e){this._instanceConstructor=t,this.promise=new t(m),this.promise[ot]||q(this.promise),G(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&T(this.promise,this._result))):k(this.promise,F())}function F(){return new Error("Array Methods must be provided an Array")}function U(t){return new B(this,t).promise}function z(t){var e=this;return new e(G(t)?function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function D(t){var e=this,n=new e(m);return k(n,t),n}function V(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function N(t){this[ot]=I(),this._result=this._state=void 0,this._subscribers=[],m!==t&&("function"!=typeof t&&V(),this instanceof N?j(this,t):H())}function W(){var t=void 0;if("undefined"!=typeof i)t=i;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=N}var Q=void 0;Q=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var G=Q,K=0,Y=void 0,X=void 0,J=function(t,e){rt[K]=t,rt[K+1]=e,K+=2,2===K&&(X?X(d):it())},$="undefined"!=typeof window?window:void 0,Z=$||{},tt=Z.MutationObserver||Z.WebKitMutationObserver,et="undefined"==typeof self&&"undefined"!=typeof r&&"[object process]"==={}.toString.call(r),nt="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,rt=new Array(1e3),it=void 0;it=et?u():tt?f():nt?l():void 0===$?v():h();var ot=Math.random().toString(36).substring(16),st=void 0,at=1,ut=2,ct=new O,ft=new O,lt=0;return B.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===st&&n<t;n++)this._eachEntry(e[n],n)},B.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===y){var i=w(t);if(i===p&&t._state!==st)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===N){var o=new n(m);S(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},B.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===st&&(this._remaining--,t===ut?k(r,n):this._result[e]=n),0===this._remaining&&T(r,this._result)},B.prototype._willSettleAt=function(t,e){var n=this;R(t,void 0,function(t){return n._settledAt(at,e,t)},function(t){return n._settledAt(ut,e,t)})},N.all=U,N.race=z,N.resolve=y,N.reject=D,N._setScheduler=o,N._setAsap=s,N._asap=J,N.prototype={constructor:N,then:p,catch:function(t){return this.then(null,t)}},N.polyfill=W,N.Promise=N,N})}).call(e,n(79),n(80))},function(t,e,n){"use strict";n(81),t.exports=self.fetch.bind(self)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(48),n(47),n(46),n(49);var s=n(84),a=r(s),u=n(83),c=r(u),f=n(82),l=r(f),h=n(85),d=r(h),v=n(87),p=r(v),y=n(90),m=r(y),g=function(){function t(e){var n=this;i(this,t),this.config=e,this.qrCanvasReadInterval=this.config.qrCanvasReadInterval,this.config.introPage?this.exhibitId=this.config.introPage.exhibitId:this.exhibitId=!1,this.activeScreenName=!1,this.qrCapability=!1,this.codeEntryMode=!1,this.inputOverlay=!1,this.code=!1,this.currentCode="",this.errorCount=0,this.iframeId="mllPage",this.htmlEl=document.documentElement,this.screenEls=Array.from(document.querySelectorAll(".screen"));var r=document.getElementById("languageForm-welcome"),o=document.getElementById("languageForm-app"),s=document.getElementById("goButton"),u=document.getElementById("reload"),f=document.getElementById("help"),h=document.createElement("video"),v=document.getElementById("qr-canvas"),p=v.getContext("2d"),y=document.getElementById("canvas-mask"),m=y.getContext("2d");this.qrReaderErrorEl=document.getElementById("qrReaderError"),this.invalidQRCodeEl=document.getElementById("invalidQRCode"),this.header=document.querySelector("header"),this.footer=document.querySelector("footer"),this.setActiveScreenName("welcome"),this.qrReader=new a.default({qrVideoEl:h,qrCanvasEl:v,qrCtx:p,qrCanvasReadInterval:this.qrCanvasReadInterval,qrCallback:function(t){return n.onQRDecoded(t)}}),this.qrCapability=this.qrReader.sniffQR(),this.qrCapability?this.controlCameraOnPageVisibilityChange():console.log("qr code scanning not supported"),this.languageForm_welcome=new c.default(r,e),this.languageForm_app=new c.default(o,e),this.setCurrentLanguage(this.config.languageAbbrs[0]),this.languageForm_welcome.onSetLanguage=function(t){return n.handleWelcomeScreen(t)},this.languageForm_app.onSetLanguage=function(t){return n.setCurrentLanguage(t)},this.canvasMask=new l.default(y,m),this.canvasMask.drawCanvasMask(),this.timeout=new d.default(this.config.clickEventForTimeout,this.config.inactivityTimeout,function(){window.location.reload(!0)}),s.addEventListener("click",function(t){t.preventDefault(),n.setInputOverlayVisibility(!0)}),this.invalidQRCodeEl.addEventListener("animationend",function(t){n.invalidQRCodeEl.classList.remove("fade"),n.invalidQRCodeEl.classList.add("transparent")}),f.addEventListener("click",function(t){n.loadURL(n.config.introPage.exhibitId,n.iframeId)}),u.addEventListener("click",function(t){location.reload(!0)})}return o(t,[{key:"setActiveScreenName",value:function(t){t!==this.activeScreenName&&(this.activeScreenName=t,this.screenEls.forEach(function(e){var n=e.classList.contains(t+"-screen");n?e.classList.add("active"):e.classList.remove("active")}))}},{key:"handleWelcomeScreen",value:function(t){this.setCurrentLanguage(t),this.qrCapability?"welcome"!==this.activeScreenName&&"visible"!==this.inputOverlay||(this.setActiveScreenName("app"),this.config.introPage.include?(this.loadURL(this.config.introPage.exhibitId,this.iframeId),this.setInputOverlayVisibility(!1)):this.setInputOverlayVisibility(!0)):this.handleError("qrReader")}},{key:"setCurrentLanguage",value:function(t){this.currentLanguage=t,this.languageForm_app.setCurrentLanguage(this.currentLanguage),this.config.languageAbbrs.forEach(function(e){e===t?document.documentElement.classList.add(e):document.documentElement.classList.remove(e)}),this.updateTranslationStrings(),document.title=this.config.translations.htmlPageTitle[this.currentLanguage],"app"!==this.activeScreenName||this.inputOverlay||this.loadURL(this.exhibitId,this.iframeId)}},{key:"updateTranslationStrings",value:function(){var t=this,e=Array.from(document.querySelectorAll("[data-translation-string]"));e.forEach(function(e){t.config.translations[e.dataset.translationString]&&(e.innerHTML=t.config.translations[e.dataset.translationString][t.currentLanguage])})}},{key:"setInputOverlayVisibility",value:function(t){this.inputOverlay=t,t?(this.currentCode="",this.htmlEl.classList.add("input-overlay"),this.setHeaderVisibility(!1),this.setFooterVisibility(!1),this.initCameraWhenNeeded()):(this.htmlEl.classList.remove("input-overlay"),this.setHeaderVisibility(!0),this.setFooterVisibility(!0),this.qrReader.stopCamera())}},{key:"setHeaderVisibility",value:function(t){t?this.header.classList.remove("hidden"):this.header.classList.add("hidden")}},{key:"setFooterVisibility",value:function(t){t?this.footer.classList.remove("hidden"):this.footer.classList.add("hidden")}},{key:"onQRDecoded",value:function(t){this.code=t.toLowerCase(),this.code!==this.currentCode&&(this.currentCode=this.code,this.inputOverlay&&this.validateCode(this.code))}},{key:"controlCameraOnPageVisibilityChange",value:function(){var t=this,e=void 0,n=void 0;"undefined"!=typeof document.hidden?(e="hidden",n="visibilitychange"):"undefined"!=typeof document.msHidden?(e="msHidden",n="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(e="webkitHidden",n="webkitvisibilitychange"),"undefined"==typeof document.addEventListener||"undefined"==typeof document[e]?console.log("browser does not support the Page Visibility API"):document.addEventListener(n,function(){document[e]?t.qrReader.stopCamera():t.initCameraWhenNeeded()})}},{key:"initCameraWhenNeeded",value:function(){this.qrCapability&&"app"===this.activeScreenName&&this.inputOverlay&&this.qrReader.initCamera()}},{key:"validateCode",value:function(t){t.startsWith(this.config.contentURLPrefix)?(this.codeID=this.code.replace(this.config.contentURLPrefix,"").trim(),this.codeID.length===this.config.numExhibitIdDigits?(this.codeEntryMode="qr",this.processCode(this.codeID)):this.handleError("invalid")):this.handleError("invalid")}},{key:"handleError",value:function(t){switch(t){case"invalid":this.currentCode="",this.errorCount<this.config.qrMisreadAllowance?this.errorCount+=1:(this.errorCount=0,"app"===this.activeScreenName&&(this.invalidQRCodeEl.classList.remove("transparent"),this.invalidQRCodeEl.classList.add("fade")));break;case"qrReader":this.qrReaderErrorEl.classList.remove("transparent");break;default:return}}},{key:"processCode",value:function(t){this.invalidQRCodeEl.classList.add("transparent"),this.currentCode=t,this.loadURL(t,this.iframeId)}},{key:"loadURL",value:function(t,e){var n=this,r=(0,p.default)(this.config.contentURLPrefix,t,this.currentLanguage);(0,m.default)(r,this.config.testURLTimeout).then(function(i){i?(n.exhibitId=t,r=(0,p.default)(n.config.contentURLPrefix,t,n.currentLanguage),n.placeURL(e,r),n.setInputOverlayVisibility(!1)):"welcome"===n.activeScreenName?(n.activeScreenName="app",n.setInputOverlayVisibility(!0)):"app"===n.activeScreenName&&"qr"===n.codeEntryMode&&(n.invalidQRCodeEl.classList.remove("transparent"),n.invalidQRCodeEl.classList.add("fade"))})}},{key:"placeURL",value:function(t,e){var n=document.getElementById(t);n.innerHTML='<iframe class="iframe" src="'+e+'"></iframe>';var r=n.querySelector("iframe"),i=function t(){var e=r.contentDocument||r.contentWindow&&r.contentWindow.document;if(e){var n=e.querySelector(".horizontal-tabs-list");if(n)return void(n.style.display="none")}setTimeout(t,100)};i()}}]),t}();e.default=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(43),o=r(i),s=n(42),a=r(s);a.default.polyfill();var u=function(t){return(0,o.default)(t).then(function(t){return t.json()})};e.default=u},function(t,e,n){"use strict";n(39),n(27),n(41),n(40),t.exports=n(2).Promise},function(t,e,n){"use strict";n(76),t.exports=n(2).Array.forEach},function(t,e,n){"use strict";n(27),n(77),t.exports=n(2).Array.from},function(t,e,n){"use strict";n(39),n(27),n(41),n(40),t.exports=n(2).Promise},function(t,e,n){"use strict";var r=n(0)("unscopables"),i=Array.prototype;void 0==i[r]&&n(5)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){"use strict";var r=n(24),i=n(14),o=n(74);t.exports=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),f=o(s,c);if(t&&n!=n){for(;c>f;)if(a=u[f++],a!=a)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){"use strict";var r=n(4),i=n(30),o=n(25),s=n(14),a=n(55);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,f=4==t,l=6==t,h=5==t||l,d=e||a;return function(e,a,v){for(var p,y,m=o(e),g=i(m),b=r(a,v,3),w=s(g.length),_=0,x=n?d(e,w):u?d(e,0):void 0;w>_;_++)if((h||_ in g)&&(p=g[_],y=b(p,_,m),t))if(n)x[_]=y;else if(y)switch(t){case 3:return!0;case 5:return p;case 6:return _;case 2:x.push(p)}else if(f)return!1;return l?-1:c||f?f:x}}},function(t,e,n){"use strict";var r=n(9),i=n(60),o=n(0)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(54);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(11),i=n(20);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){"use strict";var r=n(4),i=n(32),o=n(31),s=n(3),a=n(14),u=n(38),c={},f={},l=t.exports=function(t,e,n,l,h){var d,v,p,y,m=h?function(){return t}:u(t),g=r(n,l,e?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(d=a(t.length);d>b;b++)if(y=e?g(s(v=t[b])[0],v[1]):g(t[b]),y===c||y===f)return y}else for(p=m.call(t);!(v=p.next()).done;)if(y=i(p,g,v.value,e),y===c||y===f)return y};l.BREAK=c,l.RETURN=f},function(t,e,n){"use strict";t.exports=!n(7)&&!n(19)(function(){return 7!=Object.defineProperty(n(18)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){"use strict";var r=n(6);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";var r=n(64),i=n(20),o=n(21),s={};n(5)(s,n(0)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){"use strict";t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(1),i=n(37).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,u="process"==n(6)(s);t.exports=function(){var t,e,n,c=function(){var r,i;for(u&&(r=s.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){s.nextTick(c)};else if(o){var f=!0,l=document.createTextNode("");new o(c).observe(l,{characterData:!0}),n=function(){l.data=f=!f}}else if(a&&a.resolve){var h=a.resolve();n=function(){h.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){"use strict";var r=n(3),i=n(65),o=n(28),s=n(22)("IE_PROTO"),a=function(){},u="prototype",c=function(){var t,e=n(18)("iframe"),r=o.length,i="<",s=">";for(e.style.display="none",n(29).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+s+"document.F=Object"+i+"/script"+s),t.close(),c=t.F;r--;)delete c[u][o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[u]=r(t),n=new a,a[u]=null,n[s]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e,n){"use strict";var r=n(11),i=n(3),o=n(68);t.exports=n(7)?Object.defineProperties:function(t,e){i(t);for(var n,s=o(e),a=s.length,u=0;a>u;)r.f(t,n=s[u++],e[n]);return t}},function(t,e,n){"use strict";var r=n(8),i=n(25),o=n(22)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){"use strict";var r=n(8),i=n(24),o=n(52)(!1),s=n(22)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){"use strict";var r=n(67),i=n(28);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){"use strict";var r=n(12);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){"use strict";var r=n(1),i=n(11),o=n(7),s=n(0)("species");t.exports=function(t){var e=r[t];o&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(3),i=n(15),o=n(0)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||void 0==(n=r(s)[o])?e:i(n)}},function(t,e,n){"use strict";var r=n(19);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){"use strict";var r=n(23),i=n(17);t.exports=function(t){return function(e,n){var o,s,a=String(i(e)),u=r(n),c=a.length;return u<0||u>=c?t?"":void 0:(o=a.charCodeAt(u),o<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):(o-55296<<10)+(s-56320)+65536)}}},function(t,e,n){"use strict";var r=n(23),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){"use strict";var r=n(9);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";var r=n(13),i=n(53)(0),o=n(72)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(4),i=n(13),o=n(25),s=n(32),a=n(31),u=n(14),c=n(56),f=n(38);i(i.S+i.F*!n(34)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,l,h=o(t),d="function"==typeof this?this:Array,v=arguments.length,p=v>1?arguments[1]:void 0,y=void 0!==p,m=0,g=f(h);if(y&&(p=r(p,v>2?arguments[2]:void 0,2)),void 0==g||d==Array&&a(g))for(e=u(h.length),n=new d(e);e>m;m++)c(n,m,y?p(h[m],m):h[m]);else for(l=g.call(h),n=new d;!(i=l.next()).done;m++)c(n,m,y?s(l,p,[i.value,m],!0):i.value);return n.length=m,n}})},function(t,e,n){"use strict";var r=n(50),i=n(62),o=n(10),s=n(24);t.exports=n(33)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function s(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){y&&v&&(y=!1,v.length?p=v.concat(p):m=-1,p.length&&u())}function u(){if(!y){var t=o(a);y=!0;for(var e=p.length;e;){for(v=p,p=[];++m<e;)v&&v[m].run();m=-1,e=p.length}v=null,y=!1,s(t)}}function c(t,e){this.fun=t,this.array=e}function f(){}var l,h,d=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var v,p=[],y=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new c(t,e)),1!==p.length||y||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=f,d.addListener=f,d.once=f,d.off=f,d.removeListener=f,d.removeAllListeners=f,d.emit=f,d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){"use strict";var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":i(window))&&(r=window)}t.exports=r},function(t,e,n){"use strict";!function(t){function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return m.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function s(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function a(t){var e=new FileReader,n=s(e);return e.readAsArrayBuffer(t),n}function u(t){var e=new FileReader,n=s(e);return e.readAsText(t),n}function c(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function f(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(m.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(m.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(m.arrayBuffer&&m.blob&&b(t))this._bodyArrayBuffer=f(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!w(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t){var e=t.toUpperCase();return _.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var n=e.body;if(t instanceof d){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=h(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function p(t){var e=new i;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function y(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var m={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(m.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(t){return t&&DataView.prototype.isPrototypeOf(t)},w=ArrayBuffer.isView||function(t){return t&&g.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+","+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},m.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},l.call(d.prototype),l.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var x=[301,302,303,307,308];y.redirect=function(t,e){if(x.indexOf(e)===-1)throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=d,t.Response=y,t.fetch=function(t,e){return new Promise(function(n,r){var i=new d(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:p(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new y(e,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&m.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:void 0)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(89),a=r(s),u=function(){function t(e,n){var r=this;i(this,t),this.canvasMaskEl=e,this.canvasMaskCtx=n,window.addEventListener("resize",function(t){r.drawCanvasMask()})}return o(t,[{key:"drawCanvasMask",value:function(){this.canvasMaskEl.width=window.innerWidth,this.canvasMaskEl.height=window.innerHeight,(0,a.default)(this.canvasMaskEl),this.innerRectangleMaxSize=.8*Math.min(this.canvasMaskEl.width,this.canvasMaskEl.height),this.innerRectangleOffsetLeft=.5*(this.canvasMaskEl.width-this.innerRectangleMaxSize),this.innerRectangleOffsetTop=.5*(this.canvasMaskEl.height-this.innerRectangleMaxSize);var t=.2*this.innerRectangleMaxSize;this.canvasMaskCtx.fillStyle="rgba(0,0,0,0.2)",this.canvasMaskCtx.fillRect(0,0,this.canvasMaskEl.width,this.canvasMaskEl.height),
this.canvasMaskCtx.clearRect(this.innerRectangleOffsetLeft,this.innerRectangleOffsetTop,this.innerRectangleMaxSize,this.innerRectangleMaxSize),this.canvasMaskCtx.strokeStyle="rgba(243,243,235, 1.0)",this.canvasMaskCtx.lineWidth=30,this.canvasMaskCtx.save(),this.canvasMaskCtx.translate(this.innerRectangleOffsetLeft,this.innerRectangleOffsetTop),this.canvasMaskCtx.beginPath(),this.canvasMaskCtx.moveTo(t,0),this.canvasMaskCtx.lineTo(0,0),this.canvasMaskCtx.lineTo(0,t),this.canvasMaskCtx.moveTo(this.innerRectangleMaxSize-t,0),this.canvasMaskCtx.lineTo(this.innerRectangleMaxSize,0),this.canvasMaskCtx.lineTo(this.innerRectangleMaxSize,t),this.canvasMaskCtx.moveTo(this.innerRectangleMaxSize,this.innerRectangleMaxSize-t),this.canvasMaskCtx.lineTo(this.innerRectangleMaxSize,this.innerRectangleMaxSize),this.canvasMaskCtx.lineTo(this.innerRectangleMaxSize-t,this.innerRectangleMaxSize),this.canvasMaskCtx.moveTo(t,this.innerRectangleMaxSize),this.canvasMaskCtx.lineTo(0,this.innerRectangleMaxSize),this.canvasMaskCtx.lineTo(0,this.innerRectangleMaxSize-t),this.canvasMaskCtx.moveTo(this.innerRectangleMaxSize/2,this.innerRectangleMaxSize/2-t/3),this.canvasMaskCtx.lineTo(this.innerRectangleMaxSize/2,this.innerRectangleMaxSize/2+t/3),this.canvasMaskCtx.moveTo(this.innerRectangleMaxSize/2-t/3,this.innerRectangleMaxSize/2),this.canvasMaskCtx.lineTo(this.innerRectangleMaxSize/2+t/3,this.innerRectangleMaxSize/2),this.canvasMaskCtx.restore(),this.canvasMaskCtx.stroke()}}]),t}();e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(86),a=r(s),u=function(){function t(e,n){i(this,t),this.el=e,this.config=n,this.el.innerHTML=this.generateLanguageFormHTML(n.languages,n.languageAbbrs),this.initLanguageFormRadioButtons()}return o(t,[{key:"generateLanguageFormHTML",value:function(t,e){var n=this,r=(0,a.default)(t,e),i='<div class="language-buttons-container">';return"languageForm-welcome"===this.el.id?(r.forEach(function(t,e){i+="zh-Hant"===t[1]?'<input type="radio" id="'+n.el.id+"-"+t[1]+'-languageButton" class="language-button" name="language" value="'+t[1]+'" /><label for="'+n.el.id+"-"+t[1]+'-languageButton" class="welcome-languageButton vert-adjust">'+t[0]+"</label>":'<input type="radio" id="'+n.el.id+"-"+t[1]+'-languageButton" class="language-button" name="language" value="'+t[1]+'" /><label for="'+n.el.id+"-"+t[1]+'-languageButton" class="welcome-languageButton">'+t[0]+"</label>"}),i+="</div>"):"languageForm-app"===this.el.id?(r.forEach(function(t,e){i+='<input type="radio" id="'+n.el.id+"-"+t[1]+'-languageButton" class="language-button" name="language" value="'+t[1]+'" /><label for="'+n.el.id+"-"+t[1]+'-languageButton" class="app-languageButton">'+t[0]+"</label>"}),i+="</div>"):void 0}},{key:"initLanguageFormRadioButtons",value:function(){var t=this;this.el.addEventListener("click",function(e){var n=t.el.querySelector('input[name="language"]:checked');n&&t.setCurrentLanguage(n.value)})}},{key:"setCurrentLanguage",value:function(t){if(t!==this.currentLanguage){this.currentLanguage=t;var e=this.el.querySelector("input[value="+t+"]");e&&e.setAttribute("checked","checked"),this.onSetLanguage&&this.onSetLanguage(this.currentLanguage)}}}]),t}();e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(88),a=r(s),u=function(){function t(e){var n=e.qrVideoEl,r=e.qrCanvasEl,o=e.qrCtx,s=e.qrCanvasReadInterval,a=e.qrCallback;i(this,t),this.qrVideoEl=n,this.qrCanvasEl=r,this.qrCtx=o,this.qrStream=!1,this.qrCanvasReadInterval=s,this.videoWidth=0,this.videoHeight=0,qrcode.callback=a,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia}return o(t,[{key:"sniffQR",value:function(){if(c(!1),!navigator.getUserMedia)return!1;var t=(0,a.default)();if("chrome"===t.name&&t.version>20)return c(!0),!0;if("firefox"===t.name){if((t.ua.includes("Mobile")||t.ua.includes("Android")||t.ua.includes("iPhone")||t.ua.includes("iPad"))&&t.version>28)return c(!0),!0;if(t.version>19)return c(!0),!0}}},{key:"initCamera",value:function(){if(!this.initialized){if(this.initialized=!0,this.deviceOptions)return void this.initCameraWithOptions(this.deviceOptions);this.deviceOptions={facingMode:{exact:"environment"}},this.initCameraWithOptions(this.deviceOptions)}}},{key:"initCameraWithOptions",value:function(t){var e=this;navigator.getUserMedia({video:t,audio:!1},function(t){e.qrStream=t;var n=(0,a.default)();"firefox"===n.name?(e.qrVideoEl.mozSrcObject=t,e.qrVideoEl.play()):e.qrVideoEl.src=window.URL.createObjectURL(t),clearTimeout(e.timeoutId),e.timeoutId=setTimeout(function(){return e.updateQRCanvas()},e.qrCanvasReadInterval)},function(t){console.error(t)})}},{key:"updateQRCanvas",value:function(){var t=this;this.videoWidth!==this.qrVideoEl.videoWidth&&(this.videoWidth=this.qrVideoEl.videoWidth,this.qrCanvasEl.width=this.qrVideoEl.videoWidth),this.videoHeight!==this.qrVideoEl.videoHeight&&(this.videoHeight=this.qrVideoEl.videoHeight,this.qrCanvasEl.height=this.qrVideoEl.videoHeight),this.qrCtx.drawImage(this.qrVideoEl,0,0);try{qrcode.decode()}catch(t){}clearTimeout(this.timeoutId),this.timeoutId=setTimeout(function(){return t.updateQRCanvas()},this.qrCanvasReadInterval)}},{key:"stopCamera",value:function(){if(this.initialized){this.initialized=!1,clearTimeout(this.timeoutId);var t=this.qrStream.getTracks()[0];t.stop(),this.qrStream=!1}}}]),t}(),c=function(t){t?(document.documentElement.classList.add("has-qr"),document.documentElement.classList.remove("no-qr")):(document.documentElement.classList.remove("has-qr"),document.documentElement.classList.add("no-qr"))};e.default=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n,i){var o=this;r(this,t),this.events=e,this.timeout=n,this.timeoutFunction=i,this.events.forEach(function(t){document.body.addEventListener(t,function(t){o.resetInactivityTimeout()})})}return i(t,[{key:"inactivityTimeout",value:function(){this.resetInactivityTimeout(),this.timeoutFunction()}},{key:"resetInactivityTimeout",value:function(){var t=this;window.clearTimeout(this.setInactivityTimeoutID),this.setInactivityTimeoutID=window.setTimeout(function(){t.inactivityTimeout()},this.timeout)}}]),t}();e.default=o},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){var n=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return[].concat(r(e[0])).map(function(t,n){return e.map(function(t){return t[n]})})},i=n(t,e);return i};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){var r=""+t+e+"#"+n;return r};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t={name:!1,version:!1,ua:navigator.userAgent},e=/Chrome\/(\d+)/.exec(t.ua);return e?(t.name="chrome",t.version=e[1],t):(e=/Firefox\/(\d+)/.exec(t.ua),e?(t.name="firefox",t.version=e[1],t):t)};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){if(window.devicePixelRatio){if(1===window.devicePixelRatio)return;var e=t.height,n=t.width;t.setAttribute("width",Math.round(n*window.devicePixelRatio)),t.setAttribute("height",Math.round(e*window.devicePixelRatio))}};e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(43),o=r(i),s=n(42),a=r(s);a.default.polyfill();var u=function(t,e){return new Promise(function(n,r){(0,o.default)(t).then(function(t){if(!t.ok)throw Error(t.statusText);return t}).then(function(){return n(!0)}).catch(function(){return n(!1)}),setTimeout(function(){return n(!1)},e)})};e.default=u},function(t,e){},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=n(45),o=r(i),s=n(44),a=r(s),u="config_MultiLingualLabels.json",c=function(){(0,o.default)(u).then(function(t){var e=new a.default(t);window.mllApp=e}).catch(function(t){return console.log(t)})};c()}]);
//# sourceMappingURL=script.js.map